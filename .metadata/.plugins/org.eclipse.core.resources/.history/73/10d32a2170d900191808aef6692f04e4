package com.example.demo.services;

import java.lang.reflect.Method;
import java.util.Set;

import org.reflections.Reflections;
import org.reflections.scanners.MethodAnnotationsScanner;
import org.reflections.util.ClasspathHelper;
import org.reflections.util.ConfigurationBuilder;
import org.springframework.stereotype.Service;


@Service
public   class MessageReceiverService  {


	public void receiveMsg(Object message) throws InstantiationException, IllegalAccessException {
		
		String mesg = (String) message;
		Class<MessageReceiverService2> c = MessageReceiverService2.class;
		c.newInstance().receiveMsg(mesg);

	}

	Reflections reflections = new Reflections( 
		    new ConfigurationBuilder().setUrls( 
		    ClasspathHelper.forPackage( "com.acme.installer" ) ).setScanners(
		    new MethodAnnotationsScanner() ) );
		Set<Method> methods = reflections.getMethodsAnnotatedWith(InstallerMethod.class);

}
